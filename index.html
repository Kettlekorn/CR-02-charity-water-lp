<style>
    /* Dynamic donation box styles */
    .donation-box-img {
      position: fixed;
      left: -300px;
      width: 180px;
      max-width: 60vw;
      z-index: 2000;
      transition: left 0.7s cubic-bezier(0.7,0,0.3,1);
      bottom: 40px;
      pointer-events: none;
    }
    .donation-box-img.show {
      left: 50%;
      transform: translateX(-50%);
    }
    @media (max-width: 700px) {
      .donation-box-img {
        bottom: auto;
        top: auto;
        left: 50%;
        transform: translateX(-50%) translateY(0);
        transition: left 0.7s cubic-bezier(0.7,0,0.3,1);
      }
      .donation-box-img.show {
        left: 50%;
        transform: translateX(-50%) translateY(0);
      }
    }
  </style>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>charity: water</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      color: #1a1a1a;
    }
    /* Nav bar slide down effect */
    #mainNav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      z-index: 100;
      transition: transform 0.4s cubic-bezier(0.7,0,0.3,1);
      transform: translateY(-100%);
    }
    #mainNav.nav-visible {
      transform: translateY(0);
    }
    #mainNav.nav-hidden {
      transform: translateY(-100%);
    }
    body.with-nav {
      /* Add top padding so content is not hidden under nav */
      padding-top: 72px;
    }
    header {
      display: flex;
      align-items: center;
      justify-content: center; /* Center nav horizontally */
      padding: 1em 2em;
      background: #fff;
      border-bottom: 0.5px solid #1a1a1a; /* Small black border at the bottom of the white box */
    }
    .logo {
      display: flex;
      align-items: center;
    }
    .logo img {
      height: 24px;
      margin-right: 8px;
    }
      nav {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2em; /* Increased space between nav items on desktop */
      width: auto;
      flex-wrap: nowrap;
      margin-left: auto;
      margin-right: auto;
    }
    nav a {
      margin: 0 0.5em;
      /* Make sure nav links with arrows don't push other links out of alignment */
      padding-right: 0;
      box-sizing: border-box;
      text-decoration: none;
      color: #1a1a1a;
      font-weight: bold;
      font-family: 'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      padding-top: 0.7em;
      padding-bottom: 0.7em;
      font-size: 0.97em; /* Smaller font size for nav links */
      letter-spacing: 0.09em; /* More letter spacing for nav links */
    }
    .give-button {
      background: #1a1a1a;
      color: #fff;
      padding: 0.5em 1em;
      border: none;
      text-decoration: none;
      border-radius: 4px;
      font-family: 'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      font-size: 0.97em; /* Smaller font size for GIVE button */
      letter-spacing: 0.09em; /* More letter spacing for GIVE button */
    }
    .hero {
      display: flex;
      flex-wrap: wrap;
      margin: 0;
      padding: 0;
      border: none;
      background: transparent; /* Remove any white background */
    }
    .hero-text {
      /* Yellow box for text */
      background: #ffc908; /* Updated yellow color */
      padding: 2em 1.5em 2em 2em;
      flex: 0 1 350px;
      max-width: 400px;
      margin: 0;
      border: none;
      border-right: 0.5px solid #1a1a1a; /* Small black border on the right side */
      box-sizing: border-box;
      text-align: center; /* Center all text inside the yellow box */
      display: flex;
      flex-direction: column;
      justify-content: center;
      min-height: 100%;
    }
    .hero-text-inner {
      opacity: 0;
      transform: translateX(-240px); /* Further increased slide-in distance */
      transition: opacity 0.7s ease, transform 0.7s cubic-bezier(0.7,0,0.3,1);
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .hero-text-inner.slide-in {
      opacity: 1;
      transform: translateX(0);
    }
    .hero-text h1 {
      font-size: 2em;
      margin-bottom: 0.5em;
      font-family: "Georgia", "Times New Roman", serif;
      font-weight: normal;
    }
    .hero-text p {
      margin-bottom: 1em;
      font-family: 'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      letter-spacing: 0.03em; /* Subtle letter spacing for subtext */
    }
    .cta-button {
      background: #1a1a1a;
      color: #fff;
      padding: 0.75em 1.5em;
      border: none;
      border-radius: 4px;
      font-size: 1em;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      font-family: 'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      letter-spacing: 0.03em; /* Subtle letter spacing for button */
    }
    .hero-image {
      /* Make the image area take up more space and remove all gaps */
      flex: 2 1 0;
      display: flex;
      align-items: stretch;
      justify-content: stretch;
      margin: 0;
      padding: 0;
      border: none;
    }
    .hero-image img {
      /* Make the image fill all available space, no gaps */
      width: 100%;
      height: 100%;
      max-width: none;
      max-height: none;
      object-fit: cover;
      display: block;
      margin: 0;
      box-shadow: none;
      border: none;
    }
    /* Dynamic left-side box styles */
    .bottom-popup {
      position: fixed;
      left: -400px; /* Hidden by default, off the left */
      bottom: 30px;
      top: auto;
      width: 340px;
      max-width: 340px;
      width: 90vw;
      min-width: 220px;
      background: #ffc908; /* Updated yellow color */
      color: #000;
      text-align: left;
      padding: 1em 2em 1em 1.5em;
      box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
      transition: left 0.4s;
      z-index: 1000;
      font-family: 'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      border-radius: 0 8px 8px 0;
      display: flex;
      align-items: center;
      gap: 1em;
    }
    .bottom-popup.show {
      left: 0;
    }
    /* Responsive styles for navigation: keep all links together on small screens */
    @media (max-width: 700px) {
      #mainNav {
        width: 100vw;
        left: 0;
        right: 0;
      }
      header, #mainNav {
        flex-direction: column;
        align-items: flex-start;
        padding: 1em 0.5em 1em 0.5em;
        box-sizing: border-box;
      }
      .logo {
        margin-bottom: 1em;
      }
      nav {
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 1.2em; /* Increased vertical gap between nav items */
        align-items: stretch;
        flex-wrap: nowrap; /* Prevent splitting into two rows */
      }
      nav a, .give-button {
        margin: 0;
        width: 100%;
        text-align: center;
        font-size: 1em;
        padding: 0.9em 0; /* Increased vertical padding */
        min-width: 0;
        box-sizing: border-box;
        white-space: nowrap; /* Prevent text from wrapping to next line */
        overflow: hidden;
        text-overflow: ellipsis;
      }
    nav a[style*="inline-flex"] {
        justify-content: center;
        width: 100%;
        padding-left: 0;
        padding-right: 0;
      }
      .give-button {
        font-size: 1em;
        padding: 0.9em 0;
      }
      /* Center the hero section and prevent overflow */
      .hero {
        flex-direction: column;
        margin: 0 auto;
        max-width: 100vw;
        width: 100vw;
        box-sizing: border-box;
      }
      .hero-text {
        border-right: none;
        border-bottom: 0.5px solid #1a1a1a; /* Black border at the bottom for stacked layout */
        width: 100vw;
        max-width: 100vw;
        margin: 0 auto;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        justify-content: center;
        min-height: 220px;
      }
      .hero-text-inner {
        opacity: 0;
        transform: translateX(-240px); /* Further increased slide-in distance */
        transition: opacity 0.7s ease, transform 0.7s cubic-bezier(0.7,0,0.3,1);
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .hero-text-inner.slide-in {
        opacity: 1;
        transform: translateX(0);
      }
      .hero-image {
        width: 100vw;
        max-width: 100vw;
        margin: 0 auto;
        box-sizing: border-box;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .hero-image img {
        width: 100vw;
        max-width: 100vw;
        height: auto;
        display: block;
        margin: 0 auto;
        object-fit: cover;
      }
    }
    /* On all screens, prevent nav links from wrapping */
    nav a, .give-button {
      white-space: nowrap;
    }
    @media (max-width: 700px) {
      .hero {
        flex-direction: column;
      }
      .hero-text {
        border-right: none;
        border-bottom: 0.5px solid #1a1a1a; /* Black border at the bottom for stacked layout */
        width: 100vw;
        max-width: 100vw;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        justify-content: center;
        min-height: 220px;
      }
      .hero-text-inner {
        opacity: 0;
        transform: translateX(-240px); /* Further increased slide-in distance */
        transition: opacity 0.7s ease, transform 0.7s cubic-bezier(0.7,0,0.3,1);
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .hero-text-inner.slide-in {
        opacity: 1;
        transform: translateX(0);
      }
      .hero-bottom-yellow {
        background: #ffc908; /* Updated yellow color */
        width: 100vw;
        max-width: 100vw;
        min-height: 288px; /* 48px * 6 = 288px */
        border-top: 0.5px solid #1a1a1a;
        border-bottom: none;
        border-right: none;
        border-left: none;
        box-sizing: border-box;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: 'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 1em;
        color: #1a1a1a;
      }
    }
  </style>
</head>
<body>

  <!--
    The header below is the nav bar. It will slide down from the top after scrolling down.
    On small screens, the nav links and button will stack vertically.
  -->
  <header id="mainNav" class="nav-hidden">
    <div class="logo">
      <!-- Charity Water logo image -->
      <a href="index.html">
        <img src="img/cw_logo-2.png" alt="charity: water logo">
      </a>
    </div>
    <nav>
      <!-- TAKE ACTION nav link with down arrow, perfectly vertically aligned -->
      <a href="https://www.charitywater.org/take-action" style="display: inline-flex; align-items: center; gap: 4px;">
        TAKE ACTION
        <!-- Down arrow SVG, thicker, sharp V shape (two straight lines joined at a point), and vertically centered with text -->
        <svg width="18" height="16" viewBox="0 0 18 16" style="display: inline; vertical-align: middle;" aria-hidden="true">
          <polyline points="5,7 9,13 13,7" fill="none" stroke="#1a1a1a" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
      <!-- ABOUT US nav link with down arrow, perfectly vertically aligned -->
      <a href="https://www.charitywater.org/about" style="display: inline-flex; align-items: center; gap: 4px;">
        ABOUT US
        <!-- Down arrow SVG, thicker, sharp V shape (two straight lines joined at a point), and vertically centered with text -->
        <svg width="18" height="16" viewBox="0 0 18 16" style="display: inline; vertical-align: middle;" aria-hidden="true">
          <polyline points="5,7 9,13 13,7" fill="none" stroke="#1a1a1a" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
      <a href="https://www.charitywater.org/global-water-crisis">WHY WATER?</a>
      <a class="give-button" href="#">GIVE 💧</a>
    </nav>
  </header>

  <main class="hero">
    <div class="hero-text">
      <div class="hero-text-inner">
        <h1>Provide clean water, with just a tap.</h1>
        <p>See the impact of every donation for communities in need</p>
        <a class="cta-button" href="#">Tap in</a>
      </div>
    </div>
    <div class="hero-image">
      <!-- Water pump and community image -->
      <img src="img/waterpump.png" alt="Water pump and community">
    </div>
    
  </main>

  <script>
    // Simple confetti effect for beginners
    function showConfetti(e) {
      if (e) e.preventDefault();
      // Create confetti container
      var confettiContainer = document.createElement('div');
      confettiContainer.style.position = 'fixed';
      confettiContainer.style.left = 0;
      confettiContainer.style.top = 0;
      confettiContainer.style.width = '100vw';
      confettiContainer.style.height = '100vh';
      confettiContainer.style.pointerEvents = 'none';
      confettiContainer.style.zIndex = 9999;
      document.body.appendChild(confettiContainer);
      // Create confetti pieces
      for (var i = 0; i < 60; i++) {
        var confetti = document.createElement('div');
        confetti.style.position = 'absolute';
        confetti.style.width = '10px';
        confetti.style.height = '18px';
        confetti.style.background = 'hsl(' + (Math.random()*360) + ',90%,60%)';
        confetti.style.left = (Math.random()*100) + 'vw';
        confetti.style.top = '-30px';
        confetti.style.opacity = 0.8;
        confetti.style.borderRadius = '3px';
        confetti.style.transform = 'rotate(' + (Math.random()*360) + 'deg)';
        confettiContainer.appendChild(confetti);
        // Animate confetti
        (function(confetti) {
          var fall = Math.random()*60+40;
          var spin = Math.random()*360;
          setTimeout(function() {
            confetti.style.transition = 'top 1.2s linear, left 1.2s linear, transform 1.2s linear';
            confetti.style.top = (fall+40) + 'vh';
            confetti.style.left = (Math.random()*100) + 'vw';
            confetti.style.transform = 'rotate(' + spin + 'deg)';
          }, 10);
        })(confetti);
      }
      // Remove confetti after 1.5 seconds
      setTimeout(function() {
        confettiContainer.remove();
      }, 1500);
    }

    // When "Tap in" is clicked, show confetti, then go to donate page after animation
    document.querySelector('.cta-button').addEventListener('click', function(e) {
      e.preventDefault(); // Prevent immediate navigation
      showConfetti();
      setTimeout(function() {
        window.location.href = 'https://www.charitywater.org/donate';
      }, 1500); // Wait for confetti to finish (1.5s)
    });

    // When "GIVE" is clicked, show confetti, then go to donate page after animation
    document.querySelector('.give-button').addEventListener('click', function(e) {
      e.preventDefault(); // Prevent immediate navigation
      showConfetti();
      setTimeout(function() {
        window.location.href = 'https://www.charitywater.org/donate';
      }, 1500); // Wait for confetti to finish (1.5s)
    });

    // Dynamic donation box logic
    function isStacked() {
      // Returns true if .hero-text is above .hero-image (column direction)
      return window.innerWidth <= 700;
    }
    function showDonationBox() {
      var box = document.getElementById('donationBoxImg');
      if (!box) return;
      if (isStacked()) {
        // Center in bottom yellow box
        box.style.bottom = '';
        box.style.top = '';
        box.style.position = 'fixed';
        box.classList.add('show');
      } else {
        // Place in yellow hero box, near bottom left
        var heroText = document.querySelector('.hero-text');
        if (heroText) {
          var rect = heroText.getBoundingClientRect();
          box.style.position = 'fixed';
          box.style.left = (rect.left + 24) + 'px';
          box.style.top = (rect.bottom - 80) + 'px';
          box.style.transform = 'none';
          box.classList.add('show');
        }
      }
    }
    function hideDonationBox() {
      var box = document.getElementById('donationBoxImg');
      if (box) box.classList.remove('show');
    }
    var donationBoxVisible = false;
    window.addEventListener('scroll', function() {
      var scrollBottom = window.innerHeight + window.scrollY;
      var docHeight = document.body.offsetHeight;
      if (docHeight - scrollBottom < 40) {
        if (!donationBoxVisible) {
          showDonationBox();
          donationBoxVisible = true;
        }
      } else {
        if (donationBoxVisible) {
          hideDonationBox();
          donationBoxVisible = false;
        }
      }
    });
    window.addEventListener('resize', function() {
      if (donationBoxVisible) showDonationBox();
    });
    // Nav bar slide down after scrolling down
    // Show nav bar when user scrolls down, hide when at top
    // Keep nav stacked on small screens
    (function() {
      var nav = document.getElementById('mainNav');
      var ticking = false;
      function onScroll() {
        if (!ticking) {
          window.requestAnimationFrame(function() {
            if (window.scrollY > 40) {
              nav.classList.add('nav-visible');
              nav.classList.remove('nav-hidden');
              document.body.classList.add('with-nav');
            } else {
              nav.classList.remove('nav-visible');
              nav.classList.add('nav-hidden');
              document.body.classList.remove('with-nav');
            }
            ticking = false;
          });
          ticking = true;
        }
      }
      window.addEventListener('scroll', onScroll);
      // On load, keep nav hidden
      nav.classList.add('nav-hidden');
      nav.classList.remove('nav-visible');
      document.body.classList.remove('with-nav');
    })();

    // Slide in hero text on page load
    document.addEventListener('DOMContentLoaded', function() {
      var heroTextInner = document.querySelector('.hero-text-inner');
      if (heroTextInner) {
        setTimeout(function() {
          heroTextInner.classList.add('slide-in');
        }, 200); // slight delay for effect
      }
    });
  </script>
</body>
</html>
